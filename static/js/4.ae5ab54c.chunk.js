(this["webpackJsonpreact-way-of-samurai"]=this["webpackJsonpreact-way-of-samurai"]||[]).push([[4],{235:function(e,t,s){e.exports={loginFormWrapper:"FormsControls_loginFormWrapper__QJkSz",formControl:"FormsControls_formControl__ZczVY",error:"FormsControls_error__-uRCD",formSummaryError:"FormsControls_formSummaryError__2HC3s"}},236:function(e,t,s){"use strict";s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return d}));var r=s(4),n=s(64),o=s(235),i=s.n(o),c=s(0),a=["input","meta","child"],l=["input","meta","child"],u=["input","meta","child"],j=function(e){e.input;var t=e.meta,s=(e.child,Object(n.a)(e,a)),r=t.touched&&t.error;return Object(c.jsxs)("div",{className:i.a.formControl+" "+(r?i.a.error:""),children:[Object(c.jsx)("div",{children:s.children}),r&&Object(c.jsx)("span",{children:t.error})]})},p=function(e){var t=e.input,s=(e.meta,e.child,Object(n.a)(e,l));return Object(c.jsx)(j,Object(r.a)(Object(r.a)({},e),{},{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},t),s))}))},d=function(e){var t=e.input,s=(e.meta,e.child,Object(n.a)(e,u));return Object(c.jsx)(j,Object(r.a)(Object(r.a)({},e),{},{children:Object(c.jsx)("input",Object(r.a)(Object(r.a)({},t),s))}))}},237:function(e,t,s){"use strict";s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return n}));var r=function(e){if(!e)return"Field is required"},n=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},257:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1NNXR",userPhoto:"ProfileInfo_userPhoto__yWMww",statusBlock:"ProfileInfo_statusBlock__3SAiq",inputWrapper:"ProfileInfo_inputWrapper__1ARM0",inputFile:"ProfileInfo_inputFile__26GYr",inputFileButton:"ProfileInfo_inputFileButton__ONqPO",inputFileButtonText:"ProfileInfo_inputFileButtonText__3PLiH",contactsWrapper:"ProfileInfo_contactsWrapper__2x99X"}},300:function(e,t,s){e.exports={item:"Post_item__tewBo",like:"Post_like__uZX4v"}},301:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__1x4Hf",postBlock:"MyPosts_postBlock__1zPAp",posts:"MyPosts_posts__2Xfo7"}},305:function(e,t,s){"use strict";s.r(t);var r=s(4),n=s(28),o=s(29),i=s(31),c=s(30),a=s(1),l=s.n(a),u=s(71),j=s(39),p=s(257),d=s.n(p),b=s.p+"static/media/avataaars.4186f5f3.png",h=s(0),f=function(e){var t=Object(a.useState)(!1),s=Object(u.a)(t,2),r=s[0],n=s[1],o=Object(a.useState)(e.status),i=Object(u.a)(o,2),c=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return Object(h.jsx)("div",{children:r?Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:function(e){l(e.target.value)},onBlur:function(){n(!1),e.updateStatus(c)},autoFocus:!0,value:c})}):Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:function(){n(!0)},children:e.status||"-----"})})})},O=s(235),m=s.n(O),x=s(116),v=s(117),_=s(236),g=Object(v.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,r=e.error;return Object(h.jsxs)("form",{onSubmit:t,className:d.a.profileFormWrapper,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Full name: "}),Object(h.jsx)(x.a,{placeholder:"Full name",name:"fullName",component:_.a})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"About me:"}),Object(h.jsx)(x.a,{placeholder:"About me",name:"aboutMe",component:_.a})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Looking for a job:"}),Object(h.jsx)(x.a,{name:"lookingForAJob",component:_.a,type:"checkbox"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"About skils: "}),Object(h.jsx)(x.a,{placeholder:"about skills",name:"lookingForAJobDescription",component:_.b})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts: "}),Object.keys(s.contacts).map((function(e){return Object(h.jsxs)("div",{className:d.a.contactsWrapper,children:[e,": ",Object(h.jsx)(x.a,{placeholder:e,name:"contacts."+e,component:_.a})]},e)}))]}),r&&Object(h.jsx)("div",{className:m.a.formSummaryError,children:r}),Object(h.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),P=function(e){var t=e.profile,s=e.isOwner,r=e.setEditMode;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Full name: ",t.fullName]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["About me: ",t.aboutMe]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["User id: ",t.userId]})}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Looking for a job: ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["My skills: ",t.lookingForAJobDescription]})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return Object(h.jsx)(k,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),Object(h.jsx)("div",{children:s&&Object(h.jsx)("button",{onClick:function(e){return r(!0)},children:"Edit profile"})})]})},k=function(e){var t=e.contactTitle,s=e.contactValue;return Object(h.jsx)("div",{className:d.a.contactsWrapper,children:Object(h.jsxs)("p",{children:[t,": ",s]})})},F=function(e){var t=e.profile,s=e.status,r=e.updateStatus,n=e.isOwner,o=e.savePhoto,i=e.saveProfile,c=Object(a.useState)(!1),l=Object(u.a)(c,2),p=l[0],O=l[1];if(!t)return Object(h.jsx)(j.a,{});return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:d.a.descriptionBlock,children:[Object(h.jsx)("img",{className:d.a.userPhoto,src:null!=t.photos.large?t.photos.large:b,alt:"user avatar"}),Object(h.jsx)("div",{className:d.a.inputWrapper,children:n?Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])},name:"file",id:"input__file",className:d.a.inputFile}),Object(h.jsx)("label",{htmlFor:"input__file",className:d.a.inputFileButton,children:Object(h.jsx)("span",{className:d.a.inputFileButtonText,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"})})]}):""}),Object(h.jsx)("div",{className:d.a.statusBlock,children:Object(h.jsx)(f,{status:s,updateStatus:r})}),Object(h.jsx)("div",{className:d.a.dataWrapper,children:p?Object(h.jsx)(g,{initialValues:t,profile:t,onSubmit:function(e){i(e).then((function(){O(!1)}))}}):Object(h.jsx)(P,{profile:t,isOwner:n,setEditMode:O})})]})})},y=s(19),N=s(66),S=s(33),w=s(300),B=s.n(w),C=function(e){return Object(h.jsxs)("div",{className:B.a.item,children:[Object(h.jsx)("img",{src:"https://e7.pngegg.com/pngimages/57/256/png-clipart-bender-philip-j-fry-computer-icons-leela-bender-smiley-cartoon.png",width:"60",height:"60",alt:"avatar"}),Object(h.jsx)("p",{children:e.message}),Object(h.jsxs)("div",{className:B.a.like,children:[Object(h.jsx)("img",{src:"https://w7.pngwing.com/pngs/49/109/png-transparent-facebook-like-button-giphy-social-network-advertising-facebook-text-hand-rectangle-thumbnail.png",width:"15",height:"15",alt:"like"}),Object(h.jsx)("span",{children:e.likeCounter})]})]})},I=s(301),A=s.n(I),M=s(237),W=Object(M.a)(30),T=Object(v.a)({form:"postAddPostForm"})((function(e){var t=e.handleSubmit;return Object(h.jsxs)("form",{onSubmit:t,className:A.a.postBlock,children:[Object(h.jsx)("div",{children:Object(h.jsx)(x.a,{component:_.b,name:"newPostText",placeholder:"Enter your post text",validate:[M.b,W]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"Add post"})})]})})),E=l.a.memo((function(e){var t=Object(S.a)(e.posts).reverse().map((function(e,t){return Object(h.jsx)(C,{message:e.message,likeCounter:e.likeCounter},t)}));return Object(h.jsxs)("div",{className:A.a.postsBlock,children:[Object(h.jsx)("h3",{children:"My posts"}),Object(h.jsx)(T,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(h.jsx)("div",{className:A.a.posts,children:t})]})})),J=Object(y.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(N.a)(t))}}}))(E),U=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(F,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),Object(h.jsx)(J,{})]})},z=s(8),D=s(24),V=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(U,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId||Number(this.props.match.params.userId)===this.props.autorizedUserId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);t.default=Object(D.compose)(Object(y.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:N.d,getStatus:N.c,updateStatus:N.g,savePhoto:N.e,saveProfile:N.f}),z.f)(V)}}]);
//# sourceMappingURL=4.ae5ab54c.chunk.js.map